{"ast":null,"code":"import { faEnvelope, faMapPin, faMap, faLayerGroup, faChartBar, faRadiation, faMountain, faExclamationTriangle, faChevronDown, faLocationArrow } from \"@fortawesome/free-solid-svg-icons\";\nimport Map from 'ol/Map';\nimport SourceVector from 'ol/source/Vector';\nimport VectorLayer from 'ol/layer/Vector';\nimport Feature from 'ol/Feature';\nimport Point from 'ol/geom/Point';\nimport View from 'ol/View';\nimport TileLayer from 'ol/layer/Tile';\nimport OSM from 'ol/source/OSM';\nimport WMS from 'ol/source/TileWMS';\nimport Group from 'ol/layer/Group';\nimport XYZ from 'ol/source/XYZ';\nimport { PointMap } from \"../../models/point-map\";\nimport { FormControl, FormGroup, Validators } from \"@angular/forms\";\nimport { fromLonLat, transform } from \"ol/proj\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/app-toast.service\";\nimport * as i2 from \"../../services/base-map.service\";\nimport * as i3 from \"../../services/map.service\";\nimport * as i4 from \"../../services/layers.service\";\nimport * as i5 from \"../../services/rest-api.service\";\nimport * as i6 from \"@angular/common/http\";\nimport * as i7 from \"../notifications/app-toast.component\";\nimport * as i8 from \"../notifications/app-toast-closeable.component\";\nimport * as i9 from \"@fortawesome/angular-fontawesome\";\nimport * as i10 from \"@angular/forms\";\nimport * as i11 from \"@angular/common\";\nimport * as i12 from \"@ng-bootstrap/ng-bootstrap\";\n\nfunction MapComponent_div_153_strong_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"strong\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r11 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r11.point.pixelValue);\n  }\n}\n\nfunction MapComponent_div_153_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 86);\n    i0.ɵɵelementStart(1, \"div\", 3);\n    i0.ɵɵelementStart(2, \"div\", 87);\n    i0.ɵɵelementStart(3, \"div\", 88);\n    i0.ɵɵelementStart(4, \"span\", 89);\n    i0.ɵɵelementStart(5, \"strong\");\n    i0.ɵɵtext(6, \"Pixel Value\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"span\", 90);\n    i0.ɵɵtemplate(8, MapComponent_div_153_strong_8_Template, 2, 1, \"strong\", 91);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(9, \"div\", 92);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"div\", 25);\n    i0.ɵɵelementStart(11, \"p\", 93);\n    i0.ɵɵelementStart(12, \"strong\");\n    i0.ɵɵtext(13, \"Exposition Risk Level:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(14, \"ngb-progressbar\", 94);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"div\", 95);\n    i0.ɵɵelementStart(16, \"button\", 96);\n    i0.ɵɵtext(17, \"Risk Assessment\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r8 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(8);\n    i0.ɵɵproperty(\"ngIf\", ctx_r8.point.pixelValue > 0);\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"value\", ctx_r8.point.pixelValPerc)(\"type\", ctx_r8.getColor());\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"disabled\", true);\n  }\n}\n\nfunction MapComponent_div_159_strong_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"strong\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r12 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r12.point.elevation, \" Meters\");\n  }\n}\n\nfunction MapComponent_div_159_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 97);\n    i0.ɵɵelementStart(1, \"div\", 3);\n    i0.ɵɵelementStart(2, \"div\", 87);\n    i0.ɵɵelementStart(3, \"div\", 88);\n    i0.ɵɵelementStart(4, \"span\", 98);\n    i0.ɵɵelementStart(5, \"strong\");\n    i0.ɵɵtext(6, \"Elevation\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"span\", 90);\n    i0.ɵɵtemplate(8, MapComponent_div_159_strong_8_Template, 2, 1, \"strong\", 91);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(9, \"div\", 99);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"div\", 100);\n    i0.ɵɵelementStart(11, \"p\", 93);\n    i0.ɵɵelementStart(12, \"strong\");\n    i0.ɵɵtext(13, \"Geologic Id\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"p\", 100);\n    i0.ɵɵtext(15);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"div\", 100);\n    i0.ɵɵelementStart(17, \"p\", 93);\n    i0.ɵɵelementStart(18, \"strong\");\n    i0.ɵɵtext(19, \"Description:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"p\", 100);\n    i0.ɵɵtext(21);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"div\", 100);\n    i0.ɵɵelementStart(23, \"p\", 93);\n    i0.ɵɵelementStart(24, \"strong\");\n    i0.ɵɵtext(25, \"Extended description:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(26, \"p\", 100);\n    i0.ɵɵtext(27);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r9 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(8);\n    i0.ɵɵproperty(\"ngIf\", ctx_r9.point.elevation > 0);\n    i0.ɵɵadvance(7);\n    i0.ɵɵtextInterpolate(ctx_r9.point.idGeology);\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate(ctx_r9.point.description);\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate(ctx_r9.point.descriptionExtended);\n  }\n}\n\nfunction MapComponent_div_165_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 97);\n    i0.ɵɵelementStart(1, \"div\", 100);\n    i0.ɵɵelementStart(2, \"p\", 93);\n    i0.ɵɵelementStart(3, \"strong\");\n    i0.ɵɵtext(4, \"Address:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"p\", 100);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r10 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate(ctx_r10.point.address);\n  }\n}\n\nexport let MapComponent = /*#__PURE__*/(() => {\n  class MapComponent {\n    constructor(toastService, _baseMapsService, _mapService, _layersService, _restApiService, http) {\n      this.toastService = toastService;\n      this._baseMapsService = _baseMapsService;\n      this._mapService = _mapService;\n      this._layersService = _layersService;\n      this._restApiService = _restApiService;\n      this.http = http; // icons\n\n      this.faEnvelope = faEnvelope;\n      this.faMapPin = faMapPin;\n      this.faMap = faMap;\n      this.faLayer = faLayerGroup;\n      this.faChart = faChartBar;\n      this.faRadiation = faRadiation;\n      this.faMountain = faMountain;\n      this.faDanger = faExclamationTriangle;\n      this.faDown = faChevronDown;\n      this.faLocation = faLocationArrow; //mapPoint:Point;\n      // Attributes to center the Map\n\n      this.xMap = -891539;\n      this.yMap = 4800000;\n      this.initialStatus = true;\n      this.point = new PointMap();\n      this.pixelValue = 260; // Validation for Coordinates Form\n\n      this.formCoordinates = new FormGroup({\n        \"longitude\": new FormControl(\"\", [Validators.required, Validators.pattern(/^[+-]?([0-9]+\\.?[0-9]*|\\.[0-9]+)$/), Validators.min(-10), Validators.max(3)]),\n        \"latitude\": new FormControl(\"\", [Validators.required, Validators.pattern(/^[+-]?([0-9]+\\.?[0-9]*|\\.[0-9]+)$/), Validators.min(36), Validators.max(44)])\n      }); // Validation for Address Form\n\n      this.formAddress = new FormGroup({\n        address: new FormControl(\"\", [Validators.required, Validators.minLength(5)])\n      });\n    }\n\n    ngOnInit() {\n      this.subscriptionMapPoint = this._mapService.pointMap$.subscribe(point => {\n        this.point = point;\n      });\n      this.baseMapVisibility = {\n        satelliteMap: true,\n        openLayers: false,\n        cartoDB: false,\n        stamen: false\n      };\n      this.layersVisibility = {\n        radiometry: true,\n        shading: false,\n        geology: false,\n        spain: false\n      };\n      this.layersOpacity = {\n        radiometry: 1,\n        shading: 0.6,\n        geology: 0.7,\n        spain: 0.7\n      }; //this.renderMap();\n      //this.setMapPosition(-891539,4800000);\n\n      setTimeout(() => this.renderMap(), 100); //this.setMapPosition(-891539,4800000);\n    }\n\n    ngOnDestroy() {\n      this.subscriptionBaseMapsVisibility.unsubscribe();\n      this.subscriptionLayerOpacity.unsubscribe();\n      this.subscriptionLayerVisibility.unsubscribe();\n    }\n\n    renderMap() {\n      // Define the view\n      this.view = new View({\n        zoom: 5,\n        minZoom: 5\n      }); // Map Object\n\n      this.map = new Map({\n        view: this.view,\n        target: 'ol-map'\n      }); // Marker layer\n\n      this.marker = new Feature({\n        geometry: new Point(fromLonLat([0, 0]))\n      });\n      this.vectorSource = new SourceVector({\n        features: [this.marker]\n      });\n      let vectorLayer = new VectorLayer({\n        source: this.vectorSource\n      }); // Openlayer Map\n\n      let openlayerBaseLayer = new TileLayer({\n        source: new OSM()\n      }); // CartoDB Map\n\n      let catoDBBaseLayer = new TileLayer({\n        source: new XYZ({\n          url: 'http://{1-4}.basemaps.cartocdn.com/rastertiles/dark_all/{z}/{x}/{y}.png',\n          attributions: '© CARTO'\n        })\n      }); // Stamen Map\n\n      let stamenBaseLayer = new TileLayer({\n        source: new XYZ({\n          //url:'http://tile.stamen.com/terrain/{z}/{x}/{y}.jpg',\n          url: 'https://stamen-tiles.a.ssl.fastly.net/terrain/{z}/{x}/{y}.jpg',\n          attributions: 'Map tiles by <a href=\"http://stamen.com\">Stamen Design</a>, under <a href=\"http://creativecommons.org/licenses/by/3.0\">CC BY 3.0</a>. Data by <a href=\"http://openstreetmap.org\">OpenStreetMap</a>, under <a href=\"http://www.openstreetmap.org/copyright\">ODbL</a>.'\n        })\n      });\n      let satelliteBaseLayer = new TileLayer({\n        source: new XYZ({\n          //url:'http://tile.stamen.com/terrain/{z}/{x}/{y}.jpg',\n          url: 'https://services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}',\n          attributions: ['Powered by Esri', 'Source: Esri, DigitalGlobe, GeoEye, Earthstar Geographics, CNES/Airbus DS, USDA, USGS, AeroGRID, IGN, and the GIS User Community'],\n          attributionsCollapsible: false,\n          maxZoom: 19\n        })\n      }); // Base Layer Group\n\n      const baseLayerGroup = new Group({\n        layers: [satelliteBaseLayer, openlayerBaseLayer, catoDBBaseLayer, stamenBaseLayer]\n      });\n      this.map.addLayer(baseLayerGroup); // RADIOMETRIC LAYER\n\n      let lnegRadiometricWMSLayer = new TileLayer({\n        source: new WMS({\n          url: 'https://sig.lneg.pt/server/services/CartaRadiometrica/MapServer/WMSServer?',\n          params: {\n            LAYERS: 1,\n            FORMAT: 'image/png',\n            TRANSPARENT: true\n          }\n        })\n      }); // SHADING LAYER\n\n      let lnegShadingWMSLayer = new TileLayer({\n        source: new WMS({\n          url: 'https://sig.lneg.pt/server/services/CartaRadiometrica/MapServer/WMSServer?',\n          params: {\n            LAYERS: 0,\n            FORMAT: 'image/png',\n            TRANSPARENT: true\n          }\n        })\n      }); // WMS GEOLOGICAL LAYER\n\n      let lnegGeologicWMSLayer = new TileLayer({\n        source: new WMS({\n          url: 'https://sig.lneg.pt/server/services/CGP500k/MapServer/WMSServer?',\n          params: {\n            LAYERS: 2,\n            FORMAT: 'image/png',\n            TRANSPARENT: true\n          }\n        })\n      });\n      let spainWMSLayer = new TileLayer({\n        source: new WMS({\n          url: 'https://sig.lneg.pt/server/services/MGEP_1M/MapServer/WMSServer?',\n          params: {\n            LAYERS: 7,\n            FORMAT: 'image/png',\n            TRANSPARENT: true\n          }\n        })\n      });\n      let rasterTileLayerGroup = new Group({\n        layers: [spainWMSLayer, lnegRadiometricWMSLayer, lnegShadingWMSLayer, lnegGeologicWMSLayer]\n      });\n      this.map.addLayer(rasterTileLayerGroup);\n      this.map.addLayer(vectorLayer); // CLICK ON MAP\n\n      this.map.on('click', evt => {\n        this.showStandard(\"Point has been selected on the map\");\n        this.point.pixelValue = 0;\n        this.point.pixelValPerc = 0;\n        const clickedPosition = evt.coordinate;\n        const x = clickedPosition[0];\n        const y = clickedPosition[1];\n        var LonLat = transform([x, y], 'EPSG:3857', 'EPSG:4326');\n        this.getElavation(LonLat);\n        this.getPoint(x, y, LonLat);\n        this.initialStatus = false;\n        this.showCoords(LonLat);\n      }); // SUBSCRIPTIONS\n      // Layers Visibility\n\n      this.subscriptionLayerVisibility = this._layersService.layerVisibility$.subscribe(visibility => {\n        this.layersVisibility = visibility;\n        lnegRadiometricWMSLayer.setVisible(visibility.radiometry);\n        lnegShadingWMSLayer.setVisible(visibility.shading);\n        lnegGeologicWMSLayer.setVisible(visibility.geology);\n        spainWMSLayer.setVisible(visibility.spain);\n      }); // Layers Opacity\n\n      this.subscriptionLayerOpacity = this._layersService.layerOpacity$.subscribe(opacity => {\n        this.layersOpacity = opacity;\n        lnegRadiometricWMSLayer.setOpacity(opacity.radiometry);\n        lnegShadingWMSLayer.setOpacity(opacity.shading);\n        lnegGeologicWMSLayer.setOpacity(opacity.geology);\n        spainWMSLayer.setOpacity(opacity.spain);\n      }); // Maps Visibility\n\n      this.subscriptionBaseMapsVisibility = this._baseMapsService.baseMapVisibility$.subscribe(visibility => {\n        this.baseMapVisibility = visibility;\n        satelliteBaseLayer.setVisible(visibility.satelliteMap);\n        openlayerBaseLayer.setVisible(visibility.openLayers);\n        catoDBBaseLayer.setVisible(visibility.cartoDB);\n        stamenBaseLayer.setVisible(visibility.stamen);\n      });\n      this.setMapPosition(-891539, 4800000);\n    } // Base Maps Methods\n\n\n    onSaveCheckedMap(valueSatellite, valueOL, valueCarto, valueStamen) {\n      this.baseMapVisibility.satelliteMap = valueSatellite;\n      this.baseMapVisibility.openLayers = valueOL;\n      this.baseMapVisibility.cartoDB = valueCarto;\n      this.baseMapVisibility.stamen = valueStamen;\n\n      this._baseMapsService.changeBaseMapVisibility(this.baseMapVisibility);\n    } // Layers Methods\n    // Select Radiometric Map\n\n\n    onSaveRadiometryCheck(value) {\n      this.layersVisibility.radiometry = value;\n\n      this._layersService.changeLayerVisibility(this.layersVisibility);\n    } // Select Shading Map\n\n\n    onSaveShadingCheck(value) {\n      this.layersVisibility.shading = value;\n\n      this._layersService.changeLayerVisibility(this.layersVisibility);\n    } // Select Geologic Map\n\n\n    onSaveGeologyCheck(value) {\n      this.layersVisibility.spain = false;\n      this.layersVisibility.geology = value;\n\n      this._layersService.changeLayerVisibility(this.layersVisibility);\n    } // Select Spain/Portugal Map\n\n\n    onSaveSpainCheck(value) {\n      this.layersVisibility.geology = false;\n      this.layersVisibility.spain = value;\n\n      this._layersService.changeLayerVisibility(this.layersVisibility);\n    } // Change Radiometric Opacity\n\n\n    onSaveRadiometricOpacity(value) {\n      this.layersOpacity.radiometry = Number(value);\n\n      this._layersService.changeLayerOpacity(this.layersOpacity);\n    } // Change Shading Opaciy\n\n\n    onSaveShadingOpacity(value) {\n      this.layersOpacity.shading = Number(value);\n\n      this._layersService.changeLayerOpacity(this.layersOpacity);\n    } // Change Geologic Opacity\n\n\n    onSaveGeologicOpacity(value) {\n      this.layersOpacity.geology = Number(value);\n\n      this._layersService.changeLayerOpacity(this.layersOpacity);\n    } // Change Spain/Portugal Geologic opacity\n\n\n    onSaveSpainOpacity(value) {\n      this.layersOpacity.spain = Number(value);\n\n      this._layersService.changeLayerOpacity(this.layersOpacity);\n    } // Retrieve all information for a Point on the Map\n\n\n    getPoint(x, y, LonLat) {\n      this.getRadiometry(x, y, LonLat);\n      this.getGeology(x, y);\n      this.getAddress(LonLat[0], LonLat[1]);\n\n      this._mapService.setPoint(this.point); // ADD MARKER\n\n\n      this.setMarker(this.vectorSource, LonLat);\n    }\n\n    getElavation(Lonlat) {\n      this._restApiService.getElevation(Lonlat[0], Lonlat[1]).subscribe(data => {\n        this.point.elevation = data.results[0].elevation;\n      });\n    }\n\n    getRadiometry(x, y, LonLat) {\n      this._restApiService.getRadiometry(x, y, x - 5, y - 5, x + 5, y + 5).subscribe(data => {\n        this.point.lat = LonLat[0];\n        this.point.lon = LonLat[1];\n        var pixelValue = data.results[0].attributes['Stretch.Pixel Value'].toString().replace(\",\", \".\");\n        this.point.pixelValue = pixelValue;\n        this.point.pixelValPerc = pixelValue / 3.5;\n      });\n    }\n\n    getGeology(x, y) {\n      this._restApiService.getGeology(x, y, x - 5, y - 5, x + 5, y + 5).subscribe(data => {\n        this.point.idGeology = data.results[0].attributes['01. Código'];\n        this.point.description = data.results[0].attributes['02. Descrição'];\n        this.point.descriptionExtended = data.results[0].attributes['03. Descrição1'];\n      });\n    }\n\n    getAddress(lon, lat) {\n      this._restApiService.getAddress(lon, lat).subscribe(data => {\n        this.point.address = data.address.LongLabel;\n      });\n    }\n\n    setMarker(source, xy) {\n      source.clear();\n      source.addFeature(new Feature({\n        geometry: new Point(fromLonLat([xy[0], xy[1]]))\n      }));\n    }\n\n    setMapPosition(x, y) {\n      this.map.getView().setCenter([x, y]);\n      this.map.getView().setZoom(7);\n      let xy = transform([x, y], 'EPSG:4326', 'EPSG:3857');\n      this.getPoint(xy[0], xy[1], [x, y]);\n      this.initialStatus = false;\n    } // Get color for Progress bar\n\n\n    getColor() {\n      if (this.point.pixelValue < 125) return 'success';\n      if (this.point.pixelValue >= 125 && this.point.pixelValue < 175) return 'warning';\n      if (this.point.pixelValue >= 175) return 'danger';else return 'danger';\n    } // Search by Coordinates\n\n\n    onSubmittedCoords() {\n      let latitude = parseFloat(this.formCoordinates.value.latitude);\n      let longitude = parseFloat(this.formCoordinates.value.longitude);\n      let xy = transform([longitude, latitude], 'EPSG:4326', 'EPSG:3857');\n      this.getPoint(xy[0], xy[1], [longitude, latitude]);\n      this.map.getView().setCenter(xy);\n      this.map.getView().setZoom(14);\n      this.layersVisibility.radiometry = false;\n\n      this._layersService.changeLayerVisibility(this.layersVisibility);\n\n      this.initialStatus = false;\n    } // Search Location from address text\n\n\n    onSubmittedAddress() {\n      this._restApiService.getGeocode(this.formAddress.value.address).subscribe(data => {\n        if (data.results[0].geometry.location.lng != null) {\n          console.log(data);\n          this.showSuccess(\"Address Found\");\n          let longitude = data.results[0].geometry.location.lng;\n          let latitude = data.results[0].geometry.location.lat;\n          let xy = transform([longitude, latitude], 'EPSG:4326', 'EPSG:3857');\n          this.getPoint(xy[0], xy[1], [longitude, latitude]);\n          this.map.getView().setCenter(xy);\n          this.map.getView().setZoom(14);\n          this.layersVisibility.radiometry = false;\n\n          this._layersService.changeLayerVisibility(this.layersVisibility);\n\n          this.initialStatus = false;\n        } else {\n          this.showDanger(\"Address Not Found\");\n        }\n      });\n    }\n\n    showCoords(LonLat) {\n      // @ts-ignore\n      document.getElementById('lonInput').setAttribute('placeholder', LonLat[0].toString().substring(0, 11)); // @ts-ignore\n\n      document.getElementById('latInput').setAttribute('placeholder', LonLat[1].toString().substring(0, 11));\n    } // ALERTS\n\n\n    showStandard(message) {\n      this.toastService.show(message);\n    }\n\n    showSuccess(message) {\n      this.toastService.show(message, {\n        classname: 'bg-success text-light',\n        delay: 4000\n      });\n    }\n\n    showDanger(message) {\n      this.toastService.show(message, {\n        classname: 'bg-danger text-light',\n        delay: 4000\n      });\n    }\n\n    showSimpleAlert(type, message) {\n      this.toastService.SimpleAlert(type, message);\n    }\n\n  }\n\n  MapComponent.ɵfac = function MapComponent_Factory(t) {\n    return new (t || MapComponent)(i0.ɵɵdirectiveInject(i1.AppToastService), i0.ɵɵdirectiveInject(i2.BaseMapService), i0.ɵɵdirectiveInject(i3.MapService), i0.ɵɵdirectiveInject(i4.LayersService), i0.ɵɵdirectiveInject(i5.RestApiService), i0.ɵɵdirectiveInject(i6.HttpClient));\n  };\n\n  MapComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: MapComponent,\n    selectors: [[\"app-map\"]],\n    decls: 166,\n    vars: 29,\n    consts: [[\"aria-live\", \"polite\", \"aria-atomic\", \"true\", 2, \"min-width\", \"300px\"], [\"aria-live\", \"polite\", \"aria-atomic\", \"true\"], [1, \"main__section\", \"container-fluid\", \"py-2\", \"py-xl-2\"], [1, \"row\"], [1, \"col-12\", \"col-lg-3\", \"py-2\", \"py-lg-0\", \"card__section\", \"px-1\"], [\"id\", \"accordionSearch\"], [1, \"card\"], [\"id\", \"headingAddr\", 1, \"card-header\", \"py-0\", \"my-header\", \"pr-0\"], [1, \"mb-0\", \"my-btnheader\"], [\"data-toggle\", \"collapse\", \"data-target\", \"#collapseAddr\", \"aria-expanded\", \"false\", \"aria-controls\", \"collapseAddr\", 1, \"btn\", \"btn-block\", \"text-left\"], [3, \"icon\"], [\"id\", \"collapseAddr\", \"aria-labelledby\", \"headingAddr\", \"data-parent\", \"#accordionSearch\", 1, \"collapse\"], [1, \"card-body\", \"py-3\"], [1, \"mb-2\"], [3, \"formGroup\", \"ngSubmit\"], [\"id\", \"addressTextArea\", \"rows\", \"3\", \"placeholder\", \"Address\", \"formControlName\", \"address\", 1, \"form-control\", 3, \"placeholder\"], [\"type\", \"submit\", \"id\", \"btnSearch\", 1, \"btn\", \"btn-primary\", \"btn-block\", \"mt-3\", 3, \"disabled\"], [1, \"card\", \"mb-1\"], [\"id\", \"headingGPS\", 1, \"card-header\", \"py-0\", \"my-header\", \"pr-0\"], [\"data-toggle\", \"collapse\", \"data-target\", \"#collapseGPS\", \"aria-expanded\", \"false\", \"aria-controls\", \"collapseGPS\", 1, \"btn\", \"btn-block\", \"text-left\"], [\"id\", \"collapseGPS\", \"aria-labelledby\", \"headingGPS\", \"data-parent\", \"#accordionSearch\", 1, \"collapse\"], [1, \"card-body\", \"py-1\"], [1, \"needs-validation\", 3, \"formGroup\", \"ngSubmit\"], [\"for\", \"lonInput\", 1, \"form-label\", \"mb-0\"], [\"type\", \"text\", \"id\", \"lonInput\", \"placeholder\", \"\", \"formControlName\", \"longitude\", 1, \"form-control\"], [1, \"mb-3\"], [\"for\", \"latInput\", 1, \"form-label\", \"mb-0\"], [\"type\", \"text\", \"id\", \"latInput\", \"placeholder\", \"\", \"formControlName\", \"latitude\", 1, \"form-control\"], [\"type\", \"submit\", \"id\", \"btnSea\", 1, \"btn\", \"btn-primary\", \"btn-block\", \"mt-3\", \"mb-2\", 3, \"disabled\"], [1, \"card-header\", \"my-header\", \"py-2\", \"pl-3\"], [1, \"pr-2\", 3, \"icon\"], [1, \"form-check\"], [\"type\", \"radio\", \"name\", \"flexRadioDefault\", \"id\", \"satelliteRadioBtn\", 1, \"form-check-input\", 3, \"checked\", \"change\"], [\"for\", \"openlayersRadioBtn\", 1, \"form-check-label\"], [\"type\", \"radio\", \"name\", \"flexRadioDefault\", \"id\", \"openlayersRadioBtn\", 1, \"form-check-input\", 3, \"checked\", \"change\"], [\"type\", \"radio\", \"name\", \"flexRadioDefault\", \"id\", \"cartoRadioBtn\", 1, \"form-check-input\", 3, \"checked\", \"change\"], [\"for\", \"cartoRadioBtn\", 1, \"form-check-label\"], [\"type\", \"radio\", \"name\", \"flexRadioDefault\", \"id\", \"stamenRadioBtn\", 1, \"form-check-input\", 3, \"checked\", \"change\"], [\"for\", \"stamenRadioBtn\", 1, \"form-check-label\"], [1, \"card\", \"mt-1\"], [1, \"col-12\", \"col-md-6\", \"pr-5\", \"pl-3\"], [\"id\", \"radiometryCheck\", \"type\", \"checkbox\", 1, \"form-check-input\", 3, \"checked\", \"change\"], [\"radiometryCheck\", \"\"], [\"for\", \"radiometryCheck\", 1, \"form-check-label\"], [\"type\", \"checkbox\", \"id\", \"shadingCheck\", 1, \"form-check-input\", 3, \"checked\", \"change\"], [\"shadingCheck\", \"\"], [\"for\", \"shadingCheck\", 1, \"form-check-label\"], [\"type\", \"checkbox\", \"id\", \"geologyCheck\", 1, \"form-check-input\", 3, \"checked\", \"change\"], [\"geologyCheck\", \"\"], [\"for\", \"geologyCheck\", 1, \"form-check-label\"], [\"type\", \"checkbox\", \"id\", \"spainCheck\", 1, \"form-check-input\", 3, \"checked\", \"change\"], [\"spainCheck\", \"\"], [1, \"col-12\", \"col-md-6\", \"pl-2\", \"pr-0\"], [1, \"form-check\", \"pl-0\"], [\"id\", \"labelRadiometry\", \"for\", \"radiometricOpacity\", 1, \"form-label\", \"my-0\", \"pt-4\"], [\"type\", \"range\", \"min\", \"0\", \"max\", \"1\", \"step\", \"0.1\", \"id\", \"radiometricOpacity\", 1, \"form-range\", \"mt-1\", 2, \"width\", \"100%\", 3, \"value\", \"change\"], [\"radiometricOpacity\", \"\"], [\"id\", \"labelShading\", \"for\", \"shadingOpacity\", 1, \"form-label\", \"my-0\"], [\"type\", \"range\", \"min\", \"0\", \"max\", \"1\", \"step\", \"0.1\", \"id\", \"shadingOpacity\", 1, \"form-range\", \"mt-0\", 2, \"width\", \"100%\", 3, \"value\", \"change\"], [\"shadingOpacity\", \"\"], [\"id\", \"labelGeologic\", \"for\", \"geologicOpacity\", 1, \"form-label\", \"my-0\"], [\"type\", \"range\", \"min\", \"0\", \"max\", \"1\", \"step\", \"0.1\", \"id\", \"geologicOpacity\", 1, \"form-range\", \"mt-0\", 2, \"width\", \"100%\", 3, \"value\", \"change\"], [\"geologicOpacity\", \"\"], [\"id\", \"labelSpain\", \"for\", \"spainOpacity\", 1, \"form-label\", \"my-0\"], [\"type\", \"range\", \"min\", \"0\", \"max\", \"1\", \"step\", \"0.1\", \"id\", \"spainOpacity\", 1, \"form-range\", \"mt-0\", 2, \"width\", \"100%\", 3, \"value\", \"change\"], [\"spainOpacity\", \"\"], [1, \"card\", \"py-0\", \"mt-1\"], [1, \"card-body\", \"py-0\"], [1, \"mb-0\", \"float-left\", 2, \"display\", \"inline\"], [1, \"mb-0\", \"float-right\", 2, \"display\", \"inline\"], [\"src\", \"./assets/legend.png\", \"alt\", \"legend\", 2, \"width\", \"100%\"], [1, \"div\", \"row\", \"pt-2\"], [1, \"col-2\"], [1, \"mb-0\", \"float-left\"], [1, \"col-10\", \"pb-1\"], [1, \"pr-2\"], [1, \"badge\", \"bg-success\", \"pl-3\", \"pr-3\"], [1, \"badge\", \"bg-warning\"], [1, \"badge\", \"bg-danger\", \"pl-3\", \"pr-3\"], [1, \"section__map\", \"col-12\", \"col-lg-5\", \"px-0\", \"py-2\", \"py-lg-0\"], [\"id\", \"ol-map\", 1, \"map-container\"], [1, \"col-12\", \"col-lg-4\", \"py-1\", \"py-lg-0\", \"px-1\", \"card__section\"], [1, \"card\", \"py-0\"], [\"class\", \"card-body  pt-2 pb-0\", 4, \"ngIf\"], [1, \"card\", \"py-0\", \"card__last\", \"mt-1\"], [\"class\", \"card-body py-2\", 4, \"ngIf\"], [1, \"card-body\", \"pt-2\", \"pb-0\"], [1, \"col-7\"], [1, \"input-group\", \"mb-2\"], [1, \"input-group-text\"], [1, \"input-group-text\", \"bg-white\", \"flex-fill\"], [4, \"ngIf\"], [1, \"col-3\"], [1, \"mb-0\"], [2, \"height\", \"40px\", 3, \"value\", \"type\"], [1, \"row\", \"justify-content-center\", \"pb-2\"], [\"type\", \"button\", \"hidden\", \"\", 1, \"btn\", \"btn-primary\", 3, \"disabled\"], [1, \"card-body\", \"py-2\"], [1, \"input-group-text\", \"px-3\"], [1, \"col-5\"], [1, \"mb-1\"]],\n    template: function MapComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        const _r13 = i0.ɵɵgetCurrentView();\n\n        i0.ɵɵelement(0, \"app-toasts\", 0);\n        i0.ɵɵelement(1, \"app-toasts-closeable\", 1);\n        i0.ɵɵelementStart(2, \"div\", 2);\n        i0.ɵɵelementStart(3, \"div\", 3);\n        i0.ɵɵelementStart(4, \"div\", 4);\n        i0.ɵɵelementStart(5, \"div\", 5);\n        i0.ɵɵelementStart(6, \"div\", 6);\n        i0.ɵɵelementStart(7, \"div\", 7);\n        i0.ɵɵelementStart(8, \"h5\", 8);\n        i0.ɵɵelementStart(9, \"button\", 9);\n        i0.ɵɵelement(10, \"fa-icon\", 10);\n        i0.ɵɵtext(11, \" \\u00A0 \");\n        i0.ɵɵelementStart(12, \"b\");\n        i0.ɵɵtext(13, \"Address\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(14, \"div\", 11);\n        i0.ɵɵelementStart(15, \"div\", 12);\n        i0.ɵɵelementStart(16, \"div\", 13);\n        i0.ɵɵelementStart(17, \"form\", 14);\n        i0.ɵɵlistener(\"ngSubmit\", function MapComponent_Template_form_ngSubmit_17_listener() {\n          return ctx.onSubmittedAddress();\n        });\n        i0.ɵɵelement(18, \"textarea\", 15);\n        i0.ɵɵelementStart(19, \"button\", 16);\n        i0.ɵɵtext(20, \"Search\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(21, \"div\", 17);\n        i0.ɵɵelementStart(22, \"div\", 18);\n        i0.ɵɵelementStart(23, \"h5\", 8);\n        i0.ɵɵelementStart(24, \"button\", 19);\n        i0.ɵɵelement(25, \"fa-icon\", 10);\n        i0.ɵɵtext(26, \" \\u00A0 \");\n        i0.ɵɵelementStart(27, \"b\");\n        i0.ɵɵtext(28, \"GPS Coordinates\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(29, \"div\", 20);\n        i0.ɵɵelementStart(30, \"div\", 21);\n        i0.ɵɵelementStart(31, \"form\", 22);\n        i0.ɵɵlistener(\"ngSubmit\", function MapComponent_Template_form_ngSubmit_31_listener() {\n          return ctx.onSubmittedCoords();\n        });\n        i0.ɵɵelementStart(32, \"div\", 13);\n        i0.ɵɵelementStart(33, \"label\", 23);\n        i0.ɵɵtext(34, \"Longitude\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(35, \"input\", 24);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(36, \"div\", 25);\n        i0.ɵɵelementStart(37, \"label\", 26);\n        i0.ɵɵtext(38, \"Latitude\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(39, \"input\", 27);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(40, \"button\", 28);\n        i0.ɵɵtext(41, \"Search\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(42, \"div\", 6);\n        i0.ɵɵelementStart(43, \"div\", 29);\n        i0.ɵɵelement(44, \"fa-icon\", 30);\n        i0.ɵɵelementStart(45, \"b\");\n        i0.ɵɵtext(46, \"Base Maps\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(47, \"div\", 21);\n        i0.ɵɵelementStart(48, \"div\", 31);\n        i0.ɵɵelementStart(49, \"input\", 32);\n        i0.ɵɵlistener(\"change\", function MapComponent_Template_input_change_49_listener() {\n          return ctx.onSaveCheckedMap(true, false, false, false);\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(50, \"label\", 33);\n        i0.ɵɵtext(51, \" Satellite \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(52, \"div\", 31);\n        i0.ɵɵelementStart(53, \"input\", 34);\n        i0.ɵɵlistener(\"change\", function MapComponent_Template_input_change_53_listener() {\n          return ctx.onSaveCheckedMap(false, true, false, false);\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(54, \"label\", 33);\n        i0.ɵɵtext(55, \" Openlayers \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(56, \"div\", 31);\n        i0.ɵɵelementStart(57, \"input\", 35);\n        i0.ɵɵlistener(\"change\", function MapComponent_Template_input_change_57_listener() {\n          return ctx.onSaveCheckedMap(false, false, true, false);\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(58, \"label\", 36);\n        i0.ɵɵtext(59, \" Carto DB \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(60, \"div\", 31);\n        i0.ɵɵelementStart(61, \"input\", 37);\n        i0.ɵɵlistener(\"change\", function MapComponent_Template_input_change_61_listener() {\n          return ctx.onSaveCheckedMap(false, false, false, true);\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(62, \"label\", 38);\n        i0.ɵɵtext(63, \" Stamen Terrain \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(64, \"div\", 39);\n        i0.ɵɵelementStart(65, \"div\", 29);\n        i0.ɵɵelement(66, \"fa-icon\", 30);\n        i0.ɵɵelementStart(67, \"b\");\n        i0.ɵɵtext(68, \"Raster Layers\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(69, \"div\", 21);\n        i0.ɵɵelementStart(70, \"div\", 3);\n        i0.ɵɵelementStart(71, \"div\", 40);\n        i0.ɵɵelementStart(72, \"div\", 31);\n        i0.ɵɵelementStart(73, \"input\", 41, 42);\n        i0.ɵɵlistener(\"change\", function MapComponent_Template_input_change_73_listener() {\n          i0.ɵɵrestoreView(_r13);\n\n          const _r0 = i0.ɵɵreference(74);\n\n          return ctx.onSaveRadiometryCheck(_r0.checked);\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(75, \"label\", 43);\n        i0.ɵɵtext(76, \" Radiometry \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(77, \"div\", 31);\n        i0.ɵɵelementStart(78, \"input\", 44, 45);\n        i0.ɵɵlistener(\"change\", function MapComponent_Template_input_change_78_listener() {\n          i0.ɵɵrestoreView(_r13);\n\n          const _r1 = i0.ɵɵreference(79);\n\n          return ctx.onSaveShadingCheck(_r1.checked);\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(80, \"label\", 46);\n        i0.ɵɵtext(81, \" Shading \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(82, \"div\", 31);\n        i0.ɵɵelementStart(83, \"input\", 47, 48);\n        i0.ɵɵlistener(\"change\", function MapComponent_Template_input_change_83_listener() {\n          i0.ɵɵrestoreView(_r13);\n\n          const _r2 = i0.ɵɵreference(84);\n\n          return ctx.onSaveGeologyCheck(_r2.checked);\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(85, \"label\", 49);\n        i0.ɵɵtext(86, \" Geology \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(87, \"div\", 31);\n        i0.ɵɵelementStart(88, \"input\", 50, 51);\n        i0.ɵɵlistener(\"change\", function MapComponent_Template_input_change_88_listener() {\n          i0.ɵɵrestoreView(_r13);\n\n          const _r3 = i0.ɵɵreference(89);\n\n          return ctx.onSaveSpainCheck(_r3.checked);\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(90, \"label\", 49);\n        i0.ɵɵtext(91, \" Spain/Portugal \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(92, \"div\", 52);\n        i0.ɵɵelementStart(93, \"div\", 53);\n        i0.ɵɵelementStart(94, \"label\", 54);\n        i0.ɵɵtext(95, \"Radiometric opacity\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(96, \"input\", 55, 56);\n        i0.ɵɵlistener(\"change\", function MapComponent_Template_input_change_96_listener() {\n          i0.ɵɵrestoreView(_r13);\n\n          const _r4 = i0.ɵɵreference(97);\n\n          return ctx.onSaveRadiometricOpacity(_r4.value);\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(98, \"div\", 53);\n        i0.ɵɵelementStart(99, \"label\", 57);\n        i0.ɵɵtext(100, \"Shading opacity\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(101, \"input\", 58, 59);\n        i0.ɵɵlistener(\"change\", function MapComponent_Template_input_change_101_listener() {\n          i0.ɵɵrestoreView(_r13);\n\n          const _r5 = i0.ɵɵreference(102);\n\n          return ctx.onSaveShadingOpacity(_r5.value);\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(103, \"div\", 53);\n        i0.ɵɵelementStart(104, \"label\", 60);\n        i0.ɵɵtext(105, \"Geologic opacity\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(106, \"input\", 61, 62);\n        i0.ɵɵlistener(\"change\", function MapComponent_Template_input_change_106_listener() {\n          i0.ɵɵrestoreView(_r13);\n\n          const _r6 = i0.ɵɵreference(107);\n\n          return ctx.onSaveGeologicOpacity(_r6.value);\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(108, \"div\", 53);\n        i0.ɵɵelementStart(109, \"label\", 63);\n        i0.ɵɵtext(110, \"Geologic Spain/Portugal opacity\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(111, \"input\", 64, 65);\n        i0.ɵɵlistener(\"change\", function MapComponent_Template_input_change_111_listener() {\n          i0.ɵɵrestoreView(_r13);\n\n          const _r7 = i0.ɵɵreference(112);\n\n          return ctx.onSaveSpainOpacity(_r7.value);\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(113, \"div\", 66);\n        i0.ɵɵelementStart(114, \"div\", 29);\n        i0.ɵɵelement(115, \"fa-icon\", 30);\n        i0.ɵɵelementStart(116, \"b\");\n        i0.ɵɵtext(117, \"Raster Layers\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(118, \"div\", 67);\n        i0.ɵɵelementStart(119, \"p\", 68);\n        i0.ɵɵtext(120, \"Low: -5.0\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(121, \"p\", 69);\n        i0.ɵɵtext(122, \"High: 474.0\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(123, \"img\", 70);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(124, \"div\", 66);\n        i0.ɵɵelementStart(125, \"div\", 29);\n        i0.ɵɵelement(126, \"fa-icon\", 30);\n        i0.ɵɵelementStart(127, \"b\");\n        i0.ɵɵtext(128, \"Exposition Risk Level\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(129, \"div\", 67);\n        i0.ɵɵelementStart(130, \"div\", 71);\n        i0.ɵɵelementStart(131, \"div\", 72);\n        i0.ɵɵelementStart(132, \"p\", 73);\n        i0.ɵɵtext(133, \"Risk\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(134, \"div\", 74);\n        i0.ɵɵelementStart(135, \"div\", 3);\n        i0.ɵɵelementStart(136, \"h6\", 75);\n        i0.ɵɵelementStart(137, \"span\", 76);\n        i0.ɵɵtext(138, \"Low\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(139, \"h6\", 75);\n        i0.ɵɵelementStart(140, \"span\", 77);\n        i0.ɵɵtext(141, \"Medium\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(142, \"h6\");\n        i0.ɵɵelementStart(143, \"span\", 78);\n        i0.ɵɵtext(144, \"High\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(145, \"div\", 79);\n        i0.ɵɵelement(146, \"div\", 80);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(147, \"div\", 81);\n        i0.ɵɵelementStart(148, \"div\", 82);\n        i0.ɵɵelementStart(149, \"div\", 29);\n        i0.ɵɵelement(150, \"fa-icon\", 30);\n        i0.ɵɵelementStart(151, \"b\");\n        i0.ɵɵtext(152, \"Radiometric Details\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(153, MapComponent_div_153_Template, 18, 4, \"div\", 83);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(154, \"div\", 84);\n        i0.ɵɵelementStart(155, \"div\", 29);\n        i0.ɵɵelement(156, \"fa-icon\", 30);\n        i0.ɵɵelementStart(157, \"b\");\n        i0.ɵɵtext(158, \"Geologic Information\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(159, MapComponent_div_159_Template, 28, 4, \"div\", 85);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(160, \"div\", 66);\n        i0.ɵɵelementStart(161, \"div\", 29);\n        i0.ɵɵelement(162, \"fa-icon\", 30);\n        i0.ɵɵelementStart(163, \"b\");\n        i0.ɵɵtext(164, \"Location details\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(165, MapComponent_div_165_Template, 7, 1, \"div\", 85);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(10);\n        i0.ɵɵproperty(\"icon\", ctx.faEnvelope);\n        i0.ɵɵadvance(7);\n        i0.ɵɵproperty(\"formGroup\", ctx.formAddress);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"placeholder\", ctx.point.address);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"disabled\", !ctx.formAddress.valid);\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"icon\", ctx.faMapPin);\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"formGroup\", ctx.formCoordinates);\n        i0.ɵɵadvance(9);\n        i0.ɵɵproperty(\"disabled\", !ctx.formCoordinates.valid);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"icon\", ctx.faMap);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"checked\", ctx.baseMapVisibility.openLayers);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"checked\", ctx.baseMapVisibility.openLayers);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"checked\", ctx.baseMapVisibility.cartoDB);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"checked\", ctx.baseMapVisibility.stamen);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"icon\", ctx.faLayer);\n        i0.ɵɵadvance(7);\n        i0.ɵɵproperty(\"checked\", ctx.layersVisibility.radiometry);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"checked\", ctx.layersVisibility.shading);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"checked\", ctx.layersVisibility.geology);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"checked\", ctx.layersVisibility.spain);\n        i0.ɵɵadvance(8);\n        i0.ɵɵproperty(\"value\", ctx.layersOpacity.radiometry.toString());\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"value\", ctx.layersOpacity.shading.toString());\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"value\", ctx.layersOpacity.geology.toString());\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"value\", ctx.layersOpacity.spain.toString());\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"icon\", ctx.faChart);\n        i0.ɵɵadvance(11);\n        i0.ɵɵproperty(\"icon\", ctx.faDanger);\n        i0.ɵɵadvance(24);\n        i0.ɵɵproperty(\"icon\", ctx.faRadiation);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", !ctx.initialStatus);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"icon\", ctx.faMountain);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", !ctx.initialStatus);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"icon\", ctx.faLocation);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", !ctx.initialStatus);\n      }\n    },\n    directives: [i7.AppToastComponent, i8.AppToastCloseableComponent, i9.FaIconComponent, i10.ɵNgNoValidate, i10.NgControlStatusGroup, i10.FormGroupDirective, i10.DefaultValueAccessor, i10.NgControlStatus, i10.FormControlName, i11.NgIf, i12.NgbProgressbar],\n    styles: [\".my-btnheader[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#deb887}.my-btnheader[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:visited{text-decoration:none!important}.my-btnheader[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{text-decoration:none!important;outline:none!important;box-shadow:none!important}.my-header[_ngcontent-%COMP%]{background-color:#dcdcdc;padding-left:0;color:navy}.my-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:navy;font-weight:bold}.my-header[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{color:navy}.map-container[_ngcontent-%COMP%]{flex-grow:1;flex-direction:column;height:100vh}.section__map[_ngcontent-%COMP%]{border-radius:5px;border:1px solid #c1d3df}.card__section[_ngcontent-%COMP%]{display:flex;flex-direction:column}.card__section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{flex:1}.card__section[_ngcontent-%COMP%] > .card__last[_ngcontent-%COMP%]{flex:1}.right__card_section[_ngcontent-%COMP%]{display:flex;flex-direction:column}.right__card_section[_ngcontent-%COMP%] > .card[_ngcontent-%COMP%]{flex:1}.my-title[_ngcontent-%COMP%]{color:#4682b4}@media (min-width: 768px){#labelSpain[_ngcontent-%COMP%]{display:none}#labelGeologic[_ngcontent-%COMP%]{display:none}#labelShading[_ngcontent-%COMP%]{display:none}#labelRadiometry[_ngcontent-%COMP%]{display:none}}.input-error[_ngcontent-%COMP%]{border:red 1px solid}.input-valid[_ngcontent-%COMP%]{border:green 1px solid}.form-control.ng-valid.ng-touched[_ngcontent-%COMP%]{border:1px green solid}.form-control.ng-invalid[_ngcontent-%COMP%]{border:1px red solid}.form-control.ng-pristine[_ngcontent-%COMP%]{border:1px grey solid}.form-control.ng-valid[_ngcontent-%COMP%]{border:1px green solid}\"]\n  });\n  return MapComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}