{"ast":null,"code":"import * as L from 'leaflet';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@asymmetrik/ngx-leaflet\";\nexport let AboutComponent = /*#__PURE__*/(() => {\n  class AboutComponent {\n    constructor(http) {\n      this.http = http;\n      this.freguesias = [];\n      this.limHigh = 272.3;\n      this.limLow = 80.7;\n      this.limNull = 60;\n      this.options = {\n        layers: [L.tileLayer('http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\n          maxZoom: 13,\n          attribution: 'OpenStreetMap - \"Europe\". Downloaded from http://tapiquen-sig.jimdo.com.'\n        })\n        /*,\r\n        L.tileLayer.wms('https://sig.lneg.pt/server/services/CartaRadiometrica/MapServer/WMSServer?',{\r\n        layers:'1'\r\n        })*/\n        ],\n        zoom: 3\n      };\n    }\n\n    ngOnInit() {\n      this.http.get('assets/freguesias3.geojson').subscribe(layer => {\n        L.geoJSON(layer).getLayers().map(val => {\n          //this.countries.push(val);\n          this.freguesias.push(val);\n        });\n      });\n    }\n\n    onMapReady(map) {\n      setTimeout(() => {\n        map.invalidateSize();\n      }, 0);\n      /*this.http.get('assets/rad.png').subscribe((image:any)=>{\r\n        return image;\r\n      })*/\n\n      this.http.get('assets/freguesias.geojson').subscribe(json => {\n        this.json = json;\n        this.feature = L.geoJSON(this.json, {\n          onEachFeature(feature, layer) {\n            return layer.bindPopup(feature.properties.Freguesia);\n          },\n\n          style: function filterColor(feature) {\n            let x = feature.properties.Freguesia;\n            let y = parseFloat(feature.properties.Gamma);\n\n            if (y > 1 && y <= this.limNull) {\n              return {\n                color: 'green',\n                weight: 1,\n                opacity: 1,\n                fillOpacity: 0.7\n              };\n            } else if (y > this.limNull && y < this.limLow) {\n              return {\n                color: 'green',\n                weight: 1,\n                opacity: 1,\n                fillOpacity: 0.7\n              };\n            } else if (y >= this.limLow && y < this.limHigh) {\n              return {\n                color: 'yellow',\n                weight: 1,\n                opacity: 1,\n                fillOpacity: 0.7\n              };\n            } else if (y >= this.limHigh) {\n              return {\n                color: 'red',\n                weight: 1,\n                opacity: 0.9,\n                fillOpacity: 0.7\n              };\n            } else {\n              return {\n                color: 'blue',\n                weight: 2,\n                opacity: 0.9,\n                fillOpacity: 1\n              };\n            }\n          }.bind(this)\n        }).addTo(map);\n        map.fitBounds(this.feature.getBounds());\n      }); // map.on('click', <LeafletMouseEvent>(e) => { console.log(e.latlng) });\n\n      this.map = map;\n    }\n\n  }\n\n  AboutComponent.ɵfac = function AboutComponent_Factory(t) {\n    return new (t || AboutComponent)(i0.ɵɵdirectiveInject(i1.HttpClient));\n  };\n\n  AboutComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: AboutComponent,\n    selectors: [[\"app-about\"]],\n    decls: 1,\n    vars: 1,\n    consts: [[\"leaflet\", \"\", 1, \"map\", 3, \"leafletOptions\", \"leafletMapReady\"]],\n    template: function AboutComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵlistener(\"leafletMapReady\", function AboutComponent_Template_div_leafletMapReady_0_listener($event) {\n          return ctx.onMapReady($event);\n        });\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵproperty(\"leafletOptions\", ctx.options);\n      }\n    },\n    directives: [i2.LeafletDirective],\n    styles: [\"[_nghost-%COMP%]{display:flex;flex-direction:column;height:100vh}.map-container[_ngcontent-%COMP%]{flex-grow:1}.map[_ngcontent-%COMP%]{height:90%}\"]\n  });\n  return AboutComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}